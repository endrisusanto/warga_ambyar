<%- include('../partials/head') %>
    <%- include('../partials/navbar') %>

        <div class="max-w-2xl mx-auto glass-card p-6">
            <h3 class="text-lg font-medium leading-6 text-gray-900 dark:text-gray-100 mb-4">Edit Data Warga</h3>
            <form action="/warga/update/<%= warga.id %>" method="POST">
                <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
                    <div class="sm:col-span-6">
                        <label for="nama" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Nama Lengkap</label>
                        <div class="mt-1">
                            <input type="text" name="nama" id="nama" value="<%= warga.nama %>" required
                                class="glass-input block w-full sm:text-sm rounded-md p-2">
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <label for="blok" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Blok</label>
                        <div class="mt-1">
                            <select id="blok" name="blok" class="glass-input block w-full sm:text-sm rounded-md p-2">
                                <option value="F7" <%=warga.blok==='F7' ? 'selected' : '' %>>F7</option>
                                <option value="F8" <%=warga.blok==='F8' ? 'selected' : '' %>>F8</option>
                            </select>
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <label for="nomor_rumah" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Nomor Rumah
                            (1-50)</label>
                        <div class="mt-1">
                            <input type="number" name="nomor_rumah" id="nomor_rumah" value="<%= warga.nomor_rumah %>"
                                min="1" max="50" required class="glass-input block w-full sm:text-sm rounded-md p-2">
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <label for="status_keluarga" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Status
                            Keluarga</label>
                        <div class="mt-1">
                            <select id="status_keluarga" name="status_keluarga"
                                class="glass-input block w-full sm:text-sm rounded-md p-2">
                                <% const roles=['Kepala Keluarga', 'Istri' , 'Anak' , 'Kakek' , 'Nenek' , 'Lainnya' ];
                                    %>
                                    <% roles.forEach(role=> { %>
                                        <option value="<%= role %>" <%=warga.status_keluarga===role ? 'selected' : '' %>
                                            >
                                            <%= role %>
                                        </option>
                                        <% }) %>
                            </select>
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <label for="no_hp" class="block text-sm font-medium text-gray-700 dark:text-gray-300">No HP</label>
                        <div class="mt-1">
                            <input type="text" name="no_hp" id="no_hp" value="<%= warga.no_hp %>"
                                class="glass-input block w-full sm:text-sm rounded-md p-2">
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Email</label>
                        <div class="mt-1">
                            <input type="email" name="email" id="email" value="<%= warga.email %>"
                                class="glass-input block w-full sm:text-sm rounded-md p-2">
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <label for="status_huni" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Status Huni</label>
                        <div class="mt-1">
                            <select id="status_huni" name="status_huni"
                                class="glass-input block w-full sm:text-sm rounded-md p-2">
                                <option value="tetap" <%=warga.status_huni==='tetap' ? 'selected' : '' %>>Tetap</option>
                                <option value="kontrak" <%=warga.status_huni==='kontrak' ? 'selected' : '' %>>Kontrak
                                </option>
                                <option value="kosong" <%=warga.status_huni==='kosong' ? 'selected' : '' %>>Kosong
                                </option>
                                <option value="tidak huni" <%=warga.status_huni==='tidak huni' ? 'selected' : '' %>
                                    >Tidak Huni
                                </option>
                            </select>
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <div class="flex items-start mt-6">
                            <div class="flex items-center h-5">
                                <input id="is_ronda" name="is_ronda" type="checkbox" <%=warga.is_ronda ? 'checked' : ''
                                    %>
                                class="focus:ring-white/30 h-4 w-4 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-white/10 border-white/20 rounded">
                            </div>
                            <div class="ml-3 text-sm">
                                <label for="is_ronda" class="font-medium text-gray-700 dark:text-gray-300">Wajib Ronda?</label>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="mt-6 flex justify-end gap-3">
                    <a href="/warga"
                        class="glass-button py-2 px-4 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 border border-white/10">Cancel</a>
                    <button type="submit"
                        class="glass-button inline-flex justify-center py-2 px-4 text-sm font-medium rounded-lg text-gray-200 bg-gray-200 dark:bg-white/10 hover:bg-white/15 border border-white/15">Update</button>
                </div>
            </form>
        </div>

        <%- include('../partials/footer') %>