<%- include('../partials/head') %>
    <%- include('../partials/navbar') %>

        <div class="max-w-2xl mx-auto bg-white shadow overflow-hidden sm:rounded-lg p-6">
            <h3 class="text-lg font-medium leading-6 text-gray-900 mb-4">Edit Data Warga</h3>
            <form action="/warga/update/<%= warga.id %>" method="POST">
                <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
                    <div class="sm:col-span-6">
                        <label for="nama" class="block text-sm font-medium text-gray-700">Nama Lengkap</label>
                        <div class="mt-1">
                            <input type="text" name="nama" id="nama" value="<%= warga.nama %>" required
                                class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <label for="blok" class="block text-sm font-medium text-gray-700">Blok</label>
                        <div class="mt-1">
                            <select id="blok" name="blok"
                                class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                                <option value="F7" <%=warga.blok==='F7' ? 'selected' : '' %>>F7</option>
                                <option value="F8" <%=warga.blok==='F8' ? 'selected' : '' %>>F8</option>
                            </select>
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <label for="nomor_rumah" class="block text-sm font-medium text-gray-700">Nomor Rumah
                            (1-20)</label>
                        <div class="mt-1">
                            <input type="number" name="nomor_rumah" id="nomor_rumah" value="<%= warga.nomor_rumah %>"
                                min="1" max="20" required
                                class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <label for="status_keluarga" class="block text-sm font-medium text-gray-700">Status
                            Keluarga</label>
                        <div class="mt-1">
                            <select id="status_keluarga" name="status_keluarga"
                                class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                                <% const roles=['Kepala Keluarga', 'Istri' , 'Anak' , 'Kakek' , 'Nenek' , 'Lainnya' ];
                                    %>
                                    <% roles.forEach(role=> { %>
                                        <option value="<%= role %>" <%=warga.status_keluarga===role ? 'selected' : '' %>
                                            ><%= role %>
                                        </option>
                                        <% }) %>
                            </select>
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <label for="no_hp" class="block text-sm font-medium text-gray-700">No HP</label>
                        <div class="mt-1">
                            <input type="text" name="no_hp" id="no_hp" value="<%= warga.no_hp %>"
                                class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <label for="status_huni" class="block text-sm font-medium text-gray-700">Status Huni</label>
                        <div class="mt-1">
                            <select id="status_huni" name="status_huni"
                                class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border">
                                <option value="tetap" <%=warga.status_huni==='tetap' ? 'selected' : '' %>>Tetap</option>
                                <option value="kontrak" <%=warga.status_huni==='kontrak' ? 'selected' : '' %>>Kontrak
                                </option>
                                <option value="kosong" <%=warga.status_huni==='kosong' ? 'selected' : '' %>>Kosong
                                </option>
                            </select>
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <div class="flex items-start mt-6">
                            <div class="flex items-center h-5">
                                <input id="is_ronda" name="is_ronda" type="checkbox" <%=warga.is_ronda ? 'checked' : ''
                                    %> class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                            </div>
                            <div class="ml-3 text-sm">
                                <label for="is_ronda" class="font-medium text-gray-700">Wajib Ronda?</label>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="mt-6 flex justify-end">
                    <a href="/warga"
                        class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 mr-3">Cancel</a>
                    <button type="submit"
                        class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Update</button>
                </div>
            </form>
        </div>

        <%- include('../partials/footer') %>