<nav class="bg-white shadow-sm border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
            <div class="flex">
                <div class="flex-shrink-0 flex items-center">
                    <a href="/dashboard" class="text-xl font-bold text-indigo-600">Gang Ambyar</a>
                </div>
                <% if(user) { %>
                    <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                        <% const path=currentPath || '' ; const isDashboard=path.startsWith('/dashboard') || path==='/'
                            ; const isWarga=path.startsWith('/warga'); const isIuran=path.startsWith('/iuran'); const
                            isRonda=path.startsWith('/ronda'); const isProfile=path.startsWith('/profile'); %>

                            <a href="/dashboard"
                                class="<%= isDashboard ? 'border-indigo-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700' %> inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Dashboard</a>

                            <a href="/warga"
                                class="<%= isWarga ? 'border-indigo-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700' %> inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Warga</a>

                            <a href="/iuran"
                                class="<%= isIuran ? 'border-indigo-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700' %> inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Iuran</a>

                            <a href="/ronda"
                                class="<%= isRonda ? 'border-indigo-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700' %> inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Jadwal
                                Ronda</a>

                            <a href="/profile"
                                class="<%= isProfile ? 'border-indigo-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700' %> inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Profil</a>
                    </div>
                    <% } %>
            </div>
            <div class="flex items-center">
                <% if(user) { %>
                    <span class="text-sm text-gray-500 mr-4">Hi, <%= user.username %></span>
                    <a href="/auth/logout" class="text-sm text-red-600 hover:text-red-800">Logout</a>
                    <% } else { %>
                        <a href="/auth/login" class="text-sm text-indigo-600 hover:text-indigo-800">Login</a>
                        <span class="mx-2 text-gray-300">|</span>
                        <a href="/auth/register" class="text-sm text-indigo-600 hover:text-indigo-800">Register</a>
                        <% } %>
            </div>
        </div>
    </div>
</nav>
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex-grow w-full">
    <% if(success_msg && success_msg.length> 0) { %>
        <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4" role="alert">
            <span class="block sm:inline">
                <%= success_msg %>
            </span>
        </div>
        <% } %>
            <% if(error_msg && error_msg.length> 0) { %>
                <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
                    <span class="block sm:inline">
                        <%= error_msg %>
                    </span>
                </div>
                <% } %>
                    <% if(error && error.length> 0) { %>
                        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4"
                            role="alert">
                            <span class="block sm:inline">
                                <%= error %>
                            </span>
                        </div>
                        <% } %>